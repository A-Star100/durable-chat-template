<!doctype html>
<html lang="en">
  <head>
    <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <meta charset="utf-8" />
    <title>Durable Chat</title>
    <meta name="description" content="The ultimate chat room" />
    <meta name="author" content="Anirudh Sevugan (https://anirudhsevugan.me/)" />

    <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->

    <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link rel="stylesheet" href="css/normalize.css" />
    <link rel="stylesheet" href="css/skeleton.css" />
    <link rel="stylesheet" href="styles.css" />

    <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link rel="icon" type="image/ico" href="favicon.ico" />
    <script src="/dist/index.js" type="module"></script>
    <script defer>
      window.addEventListener("DOMContentLoaded", () => {
  const path = window.location.pathname;

  // Only prompt if we're on the homepage ("/")
  if (path === "/" || path === "") {
    const roomId = prompt("Enter a room ID to join (a new room will be created if it doesn't exist), or click Cancel to create a new one:");
    
    if (roomId && roomId.trim()) {
      // Redirect to the specified room
      window.location.href = `/${encodeURIComponent(roomId.trim())}`;
    }
    // Else: Do nothing — your app will generate a new room as usual
  }
});
    </script>
  </head>
  <body>
    <!-- Primary Page Layout
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <div class="container" style="width: 95%; height: 100%">
      <div class="row" style="height: 100%">
        <div class="one-third column" style="margin-top: 25%">
          <h4><b>Chat</b></h4>
          <p>
            Chat with anyone, anywhere. Once you've finished creating/joining a room, you can share the link with anyone you want to chat with!
          </p>
        </div>
        <div class="two-thirds column" id="root"></div>
      </div>
    </div>

    <!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  </body>
</html>
